# Modelfile generated by ollama show hf.co/unsloth/DeepSeek-R1-0528-GGUF:TQ1_0 --modelfile > ds671b0528_q1.modelfile
#
# To create GPU-enabled DeepSeek-R1:671b-0528 q1, type 
# ollama create DeepSeek-R1:671b0528_q1_GPU --file ds671b0528_q1_GPU.modelfile
#
FROM hf.co/unsloth/DeepSeek-R1-0528-GGUF:TQ1_0

TEMPLATE """{{- if .System }}{{ .System }}{{ end }}
{{- range $i, $_ := .Messages }}
{{- $last := eq (len (slice $.Messages $i)) 1}}
{{- if eq .Role "user" }}<｜User｜>{{ .Content }}
{{- else if eq .Role "assistant" }}<｜Assistant｜>
  {{- if and $.IsThinkSet (and $last .Thinking) -}}
<think>
{{ .Thinking }}
</think>
{{- end }}{{ .Content }}{{- if not $last }}<｜end▁of▁sentence｜>{{- end }}
{{- end }}
{{- if and $last (ne .Role "assistant") }}<｜Assistant｜>
{{- if and $.IsThinkSet (not $.Think) -}}
<think>

</think>

{{ end }}
{{- end -}}
{{- end }}"""
PARAMETER repeat_penalty 1
PARAMETER top_p 0.95
PARAMETER num_predict 16384
PARAMETER num_ctx 65536
PARAMETER stop <｜begin▁of▁sentence｜>
PARAMETER stop <｜end▁of▁sentence｜>
PARAMETER stop <｜User｜>
PARAMETER stop <｜Assistant｜>
PARAMETER temperature 0.6
PARAMETER min_p 0.01
PARAMETER num_gpu 1
PARAMETER num_thread -1

